---
title: "Persistent Plotting in R"
author: "Paramjot Singh"
date: "2018-02-25"
draft: FALSE
tags: ["R"]
---



<p>In this post, I describe the importance of persistent plots while carrying out a analysis. A case is made for simpler and persistent plots and the process to create the plots is demonstrated with an example. Finally, a package is created to stitch things together in a coherent fashion.</p>
<p>With the amount of available options in R today to create plots, it is easy to get distracted and miss the point of using plots in first place - to bring to attention something unique about the data which otherwise could be difficult, if not impossible, just looking at the raw numbers.</p>
<blockquote>
<p><em>The simple graph has brought more information to the data analyst’s mind than any other device.</em> - John Tukey</p>
</blockquote>
<p>The approach I use here is to automate the theming process so that we do not have to think about it unless needed by:</p>
<ul>
<li><a href="../creating_theme">Creating</a> a new theme or modify the existing one to suit your needs.</li>
<li>Using functions to modify plot related properties so these can be reused later.</li>
<li>Using <a href="../package_building">package</a> to make it easy to distribute or modify the stuff in future.</li>
<li>Finally, automatically loading this package at the start of R session.</li>
</ul>
<div id="creating-a-theme" class="section level3">
<h3>Creating a theme</h3>
<p>Creating a new theme is first step towards creating persistent plots. I have described the process in an earlier <a href="../creating_theme">post</a> so I will not go into the details here.</p>
</div>
<div id="using-functions-to-modify-plot-related-properties" class="section level3">
<h3>Using functions to modify plot related properties</h3>
<p>This part is mostly driven by personal workflow since here we choose certain types of plots that we use more often and fine tune their look and feel. I am showing the default plots on the left and with my modifications on the right. I used the following plots:</p>
<ol style="list-style-type: decimal">
<li>Scatter plot: To show relationship between two continuous variables.</li>
</ol>
<p><img src="/post/persistent_plots_files/figure-html/scatter-1.png" width="672" style="display: block; margin: auto;" /> 2. Scatter plot with linear trendline: To show how the linear model fit looks like for a given set of continuous variables.</p>
<p><img src="/post/persistent_plots_files/figure-html/fit_linear-1.png" width="672" style="display: block; margin: auto;" /> 3. Scatter plot with smooth trendline: To show how the non-linear model fit looks like for a given set of continuous variables.</p>
<p><img src="/post/persistent_plots_files/figure-html/fit_nonlinear-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Histogram: To show frequency distribution of a single continuous variable.</li>
</ol>
<p><img src="/post/persistent_plots_files/figure-html/histogram-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Barplot: To show frequency distribution of a single discrete variable.</li>
</ol>
<p><img src="/post/persistent_plots_files/figure-html/bar-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Boxplot: To show relationship between a continuous and discrete variable.</li>
</ol>
<p><img src="/post/persistent_plots_files/figure-html/box-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="building-a-package" class="section level3">
<h3>Building a package</h3>
<p>I have already described this process in a post <a href="../package_building">here</a>, so I won’t go into details.</p>
</div>
<div id="automatically-loading-the-theme" class="section level3">
<h3>Automatically loading the theme</h3>
<p>This involves creating a hook in your <code>.Rprofile</code> file. <a href="https://github.com/pchhina/dotfiles/blob/master/.Rprofile">Here</a> is how my file looks like after making the changes. Now each time you start a new R session, the plot package (<code>themeSimple</code>) is automatically loaded into the workspace and you can use the helper functions to create the modified plots.</p>
</div>
